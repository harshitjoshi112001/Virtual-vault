package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.*;

public final class Atmcard_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("\n");
      out.write("    <head>\n");
      out.write("        <meta charset=\"UTF-8\">\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("        <title>Atm Card</title>\n");
      out.write("        <link rel=\"shortcut icon\" href=\"https://i.pinimg.com/originals/38/61/87/386187bbb3db15493f3e9f1a3997a83e.png\"\n");
      out.write("              type=\"image/x-icon\">\n");
      out.write("        <script>\n");
      out.write("            var flag = 1;\n");
      out.write("                    function check(f1)\n");
      out.write("                    {\n");
      out.write("//                            alert(\"heelloo\");\n");
      out.write("                            var acc = document.getElementById(\"account\").textContent;\n");
      out.write("                            var pin = document.getElementById('pin').value;\n");
      out.write("                            var store = \"\";\n");
      out.write("                            var result = \"\";\n");
      out.write("                            var msg=\"Login.jsp?account1=\"+acc;\n");
      out.write("                            var xhttp = new XMLHttpRequest();\n");
      out.write("                            xhttp.onreadystatechange = function ()\n");
      out.write("                            {\n");
      out.write("                                if (xhttp.readyState == 4 && xhttp.status == 200)\n");
      out.write("                                {\n");
      out.write("                                    store = this.responseText;\n");
      out.write("                                    result = store.includes(\"Booked..\");\n");
      out.write("                                    if (result === true)\n");
      out.write("                                    {\n");
      out.write("                                        window.open(msg, \"_self\");\n");
      out.write("                                    }\n");
      out.write("                                        document.getElementById('demo').innerHTML = store;\n");
      out.write("                                }\n");
      out.write("                                else\n");
      out.write("                                {\n");
      out.write("                                    document.getElementById('demo').innerHTML = \"Processing..\";\n");
      out.write("                                }\n");
      out.write("                            };\n");
      out.write("                            xhttp.open(\"GET\", \"Bookatm?account=\" + acc + \"&pin=\" + pin, true);\n");
      out.write("//            xhttp.open(\"GET\" , \"check.jsp?account=\"+acc,true);\n");
      out.write("                            xhttp.send();\n");
      out.write("                    }\n");
      out.write("            function fill()\n");
      out.write("            {\n");
      out.write("            // alert(\"hello\");\n");
      out.write("            if (flag == 1)\n");
      out.write("            {\n");
      out.write("            const acc = document.getElementById('show');\n");
      out.write("                    var but = document.getElementById('buton');\n");
      out.write("                    but.value = 'Hide';\n");
      out.write("                    acc.classList.toggle('clicked');\n");
      out.write("                    flag = 0;\n");
      out.write("            }\n");
      out.write("            else\n");
      out.write("            {\n");
      out.write("            const acc = document.getElementById('show');\n");
      out.write("                    var but = document.getElementById('buton');\n");
      out.write("                    but.value = 'See Cvv';\n");
      out.write("                    acc.classList.toggle('clicked');\n");
      out.write("                    flag = 1;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            }\n");
      out.write("        </script>\n");
      out.write("        <style>\n");
      out.write("            * {\n");
      out.write("                margin: 0;\n");
      out.write("                padding: 0;\n");
      out.write("                box-sizing: border-box;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .container {\n");
      out.write("                width: 100%;\n");
      out.write("                height: auto;\n");
      out.write("                background-color: rgb(164, 120, 231);\n");
      out.write("                padding: 10px;\n");
      out.write("                position: relative;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            h1 {\n");
      out.write("                text-align: center;\n");
      out.write("                text-decoration: underline;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .box {\n");
      out.write("                width: 100%;\n");
      out.write("                height: auto;\n");
      out.write("                /*background-color: aqua;*/\n");
      out.write("                display: flex;\n");
      out.write("                flex-direction: column;\n");
      out.write("                justify-content: center;\n");
      out.write("                align-items: center;\n");
      out.write("                margin-top: 25px;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .inner {\n");
      out.write("                width: 460px;\n");
      out.write("                height: 270px;\n");
      out.write("                /* background-color: cornsilk; */\n");
      out.write("                background-image: url('https://coolbackgrounds.io/images/backgrounds/index/disco-dba865f1.png');\n");
      out.write("                background-size: cover;\n");
      out.write("                color: white;\n");
      out.write("                position: relative;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .but {\n");
      out.write("                width: 460px;\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: flex-end;\n");
      out.write("                margin-top: 10px;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            .box2 {\n");
      out.write("                width: 100%;\n");
      out.write("                height: 240px;\n");
      out.write("                /*background-color: chocolate;*/\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: center;\n");
      out.write("                align-items: center;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            table {\n");
      out.write("                border-collapse: separate;\n");
      out.write("                border-spacing: 75px 20px;\n");
      out.write("            }\n");
      out.write("\n");
      out.write("            table td {\n");
      out.write("                font-size: 25px;\n");
      out.write("            }\n");
      out.write("            #book{\n");
      out.write("                width: 100px;\n");
      out.write("                font-size: 20px;\n");
      out.write("                background-color: cornsilk;\n");
      out.write("            }\n");
      out.write("            table input{\n");
      out.write("                cursor: pointer;\n");
      out.write("                height: 30px;\n");
      out.write("            }\n");
      out.write("            #book:hover{\n");
      out.write("                transform: scale(1.1);\n");
      out.write("                box-shadow: 2px 3px 4px blueviolet;\n");
      out.write("            }\n");
      out.write("            header{\n");
      out.write("                width: 100%;\n");
      out.write("                height: 50px;\n");
      out.write("                /* background-color: brown; */\n");
      out.write("                display: flex;\n");
      out.write("                color: white;\n");
      out.write("            }\n");
      out.write("            .left{\n");
      out.write("                width: 60%;\n");
      out.write("                height: 100%;\n");
      out.write("                /* background-color: rgb(171, 89, 105); */\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: center;\n");
      out.write("                align-items: center;\n");
      out.write("                gap: 10px;\n");
      out.write("            }\n");
      out.write("            .right{\n");
      out.write("                width: 40%;\n");
      out.write("                height: 100%;\n");
      out.write("                /* background-color: yellow; */\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: center;\n");
      out.write("                align-items: center;\n");
      out.write("                font-size: 17px;\n");
      out.write("            }\n");
      out.write("            .right1{\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: center;\n");
      out.write("                align-items: center;\n");
      out.write("                /* flex-direction: column; */\n");
      out.write("            }\n");
      out.write("            .left1{\n");
      out.write("                box-shadow: 3px 0cap 0cap black;\n");
      out.write("            }\n");
      out.write("            .set img{\n");
      out.write("                width: 35px;\n");
      out.write("                height: 35px;\n");
      out.write("                border-radius: 100px;\n");
      out.write("            }\n");
      out.write("            .chip{\n");
      out.write("                margin-top: 25px;\n");
      out.write("                width: 100px;\n");
      out.write("                margin-left: 55px;\n");
      out.write("                height: auto;\n");
      out.write("                /* background-color: blueviolet; */\n");
      out.write("            }\n");
      out.write("            .chip img{\n");
      out.write("                width: 45px;\n");
      out.write("                height: 35px;\n");
      out.write("            }\n");
      out.write("            .number{\n");
      out.write("                width: 380px;\n");
      out.write("                margin-top: 10px;\n");
      out.write("                margin-left: 55px;\n");
      out.write("                height: 35px;\n");
      out.write("                /* background-color: tomato; */\n");
      out.write("            }\n");
      out.write("            .number p{\n");
      out.write("                font-weight: bold;\n");
      out.write("                font-size: 28px;\n");
      out.write("                letter-spacing: 6px;\n");
      out.write("            }\n");
      out.write("            .month{\n");
      out.write("                width: 150px;\n");
      out.write("                height: 40px;\n");
      out.write("                /* background-color: yellow; */\n");
      out.write("                display: flex;\n");
      out.write("                justify-content: center;\n");
      out.write("                gap: 15px;\n");
      out.write("                align-items: center;\n");
      out.write("                margin-left: 200px;\n");
      out.write("                margin-top: 10px;\n");
      out.write("            }\n");
      out.write("            .valid{\n");
      out.write("                display: flex;\n");
      out.write("                flex-direction: column;\n");
      out.write("            }\n");
      out.write("            .last{\n");
      out.write("                width: 100%;\n");
      out.write("                height: 55px;\n");
      out.write("                margin-top: 5px;\n");
      out.write("                /* background-color: palevioletred; */\n");
      out.write("                display: flex;\n");
      out.write("            }\n");
      out.write("            .leftlast{\n");
      out.write("                width: 70%;\n");
      out.write("                /* background-color: orangered; */\n");
      out.write("                height: 100%;\n");
      out.write("                display: flex;\n");
      out.write("                flex-direction: column;\n");
      out.write("                justify-content: center;\n");
      out.write("                letter-spacing: 3px;\n");
      out.write("            }\n");
      out.write("            .rightlast{\n");
      out.write("                width: 30%;\n");
      out.write("                /* background-color:olivedrab; */\n");
      out.write("                height: 100%;\n");
      out.write("                display: flex;\n");
      out.write("                flex-direction: column;\n");
      out.write("                align-items: center;\n");
      out.write("            }\n");
      out.write("            .rightlast h1{\n");
      out.write("                text-decoration: none;\n");
      out.write("            }\n");
      out.write("            #buton{\n");
      out.write("                width: 70px;\n");
      out.write("                font-size: 15px;\n");
      out.write("                height: 27px;\n");
      out.write("                background-color: white;\n");
      out.write("            }\n");
      out.write("            #buton:hover{\n");
      out.write("                cursor: pointer;\n");
      out.write("                transform: scale(1.1);\n");
      out.write("            }\n");
      out.write("            iframe{\n");
      out.write("                width: 460px;\n");
      out.write("                height: 270px;\n");
      out.write("                position: absolute;\n");
      out.write("                /* opacity: 0; */\n");
      out.write("                /* margin-bottom: 20px; */\n");
      out.write("                bottom: 0px;\n");
      out.write("                opacity: 0;\n");
      out.write("            }\n");
      out.write("            .move{\n");
      out.write("                margin-bottom: 100px;\n");
      out.write("                position: absolute;\n");
      out.write("                bottom: 196px;\n");
      out.write("                left: 401px;\n");
      out.write("                opacity: 0;\n");
      out.write("            }\n");
      out.write("            .clicked{\n");
      out.write("                opacity: 1;\n");
      out.write("            }\n");
      out.write("        </style>\n");
      out.write("    </head>\n");
      out.write("\n");
      out.write("    <body>\n");
      out.write("        ");

            String acc = request.getParameter("account");
            if (acc != null) {
                String s1 = acc.substring(1, 5) + " " + acc.substring(3, 7);
                String account = "3453 2500 " + s1;
                String name = "";
                int acc1 = Integer.parseInt(acc);
                try {
                    Class.forName("org.apache.derby.jdbc.ClientDriver");
                    Connection con = DriverManager.getConnection("jdbc:derby://localhost:1527/practice", "root", "root");
                    Statement stm = con.createStatement();
                    String s = "select * from useraccount where account_no=" + acc1 + "";
                    ResultSet r = stm.executeQuery(s);
                    if (r.next()) {
                        name = r.getString(2);
                        name = name.toUpperCase();
        
      out.write("\n");
      out.write("        <div class=\"container\">\n");
      out.write("            <h1>Atm Card</h1>\n");
      out.write("            <div class=\"box\">\n");
      out.write("                <div class=\"inner\" id=\"inner\">\n");
      out.write("                    <header>\n");
      out.write("                        <div class=\"left\">\n");
      out.write("                            <div class=\"left1\">\n");
      out.write("                                <h2>111</h2>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"right1\">\n");
      out.write("                                <div class=\"set\">\n");
      out.write("                                    <img src=\"https://i.pinimg.com/originals/38/61/87/386187bbb3db15493f3e9f1a3997a83e.png\" alt=\"\">\n");
      out.write("                                </div>\n");
      out.write("                                <div class=\"set2\">\n");
      out.write("                                    <p style=\"font-size: 20px;\">Happy Bank</p>\n");
      out.write("                                </div>\n");
      out.write("\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"right\">\n");
      out.write("                            <p><strong>#DREAM</strong>Different</p>\n");
      out.write("                        </div>\n");
      out.write("                    </header>\n");
      out.write("                    <div class=\"chip\">\n");
      out.write("                        <img src=\"https://www.pngimages.in/uploads/png-webp/2023/May-2023/credit_card_chip_Png_Editor.webp\" alt=\"\">\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"number\">\n");
      out.write("                        <p>");
      out.print( account);
      out.write("</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"month\">\n");
      out.write("                        <div class=\"valid\">\n");
      out.write("                            <p style=\"font-size: 13px;\">VALID</p>\n");
      out.write("                            <p style=\"font-size: 13px;\">THRU</p>\n");
      out.write("                        </div>\n");
      out.write("                        <p>10/26</p>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"last\">\n");
      out.write("                        <div class=\"leftlast\">\n");
      out.write("                            <p style=\"margin-left: 65px; font-size: 20px;\">");
      out.print(name);
      out.write("</p>\n");
      out.write("                            <p style=\"margin-left:20px\"><small>CRN</small> <b>");
      out.print( acc1);
      out.write(" HAPPY 111</b></p>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"rightlast\">\n");
      out.write("                            <h1>VISA</h1>\n");
      out.write("                            <p>Classic</p>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    <iframe src=\"Backside.jsp\" id=\"show\" frameborder=0></iframe>\n");
      out.write("                </div>\n");
      out.write("                    <form>\n");
      out.write("                <div class=\"but\">\n");
      out.write("                        <input type=\"button\" id=\"buton\" value=\"See Cvv\" onclick=\"fill()\">\n");
      out.write("                    </form>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("            <p id=\"demo\" style=\"text-align: center; color: red;font-size: 20px;\"></p>\n");
      out.write("            <div class=\"box2\">\n");
      out.write("                <form>\n");
      out.write("                    <table>\n");
      out.write("                        <tr>\n");
      out.write("                            <td>Account No</td>\n");
      out.write("                            <td><label for=\"account\" id=\"account\">");
      out.print( acc1);
      out.write("</label></td>\n");
      out.write("                        </tr>\n");
      out.write("                        <tr>\n");
      out.write("                            <td>Pin</td>\n");
      out.write("                            <td><input type=\"password\" id=\"pin\" name=\"pin\" maxlength=\"6\"></td>\n");
      out.write("                        </tr>\n");
      out.write("                        <tr>\n");
      out.write("                            <td><input type=\"button\" id=\"book\" value=\"Book\" onclick=\"check(this.form);\"></td>\n");
      out.write("                            <td><a href=\"Login.jsp?account1=");
      out.print(acc1);
      out.write("\"><input type=\"button\" id=\"book\" value=\"Back\"></a></td>\n");
      out.write("                        </tr>\n");
      out.write("                    </table>\n");
      out.write("                </form>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"move\" id=\"move\">\n");
      out.write("                <!--                <iframe src=\"Backside.jsp\" frameborder=0></iframe>-->\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("        ");

                    }
                } catch (Exception e) {
                    out.print(e.getMessage());
                }
            } else {
                out.print("<h2>Sorry ...First You have to login<br><a href='front.html'>Click here</h2>");
            }
        
      out.write("\n");
      out.write("\n");
      out.write("    </body>\n");
      out.write("\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
